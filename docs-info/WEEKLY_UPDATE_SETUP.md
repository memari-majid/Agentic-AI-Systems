# âœ… Weekly Paper Update Automation - Setup Complete!

**Date**: November 15, 2025  
**Status**: Ready (needs manual workflow file creation)

---

## ğŸ‰ What Was Created

### âœ… Files Created

1. **`.github/workflows/weekly-paper-update.yml`** (in repository, needs manual push)
   - Weekly GitHub Action workflow
   - Runs every Monday at 9:00 AM UTC
   - Searches for new papers
   - Updates version automatically
   - Creates GitHub issues

2. **`scripts/update_paper_version.py`** âœ… (committed)
   - Updates version in LaTeX paper
   - Updates version in all HTML paper pages
   - Version format: YYYY.MM.DD

3. **Version tracking in paper pages** âœ… (committed)
   - All paper pages now show version
   - Last updated date displayed
   - Update schedule visible

---

## âš ï¸ Manual Step Required

GitHub doesn't allow creating workflow files via OAuth. You need to manually create the workflow file:

### Option 1: Create via GitHub Web Interface

1. Go to: https://github.com/memari-majid/Agentic-AI-Systems
2. Click "Add file" â†’ "Create new file"
3. Path: `.github/workflows/weekly-paper-update.yml`
4. Copy the content from the file below
5. Commit directly to `main` branch

### Option 2: Manual Git Push

```bash
cd /home/majid/Downloads/Agentic-AI-Systems
git add .github/workflows/weekly-paper-update.yml
git commit -m "Add weekly paper update workflow"
git push origin main
```

---

## ğŸ“‹ Workflow File Content

Copy this into `.github/workflows/weekly-paper-update.yml`:

```yaml
name: Weekly Paper Update

on:
  schedule:
    # Run every Monday at 9:00 AM UTC
    - cron: '0 9 * * 1'
  workflow_dispatch: # Allow manual trigger

jobs:
  update-paper:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      issues: write
      pull-requests: write
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          token: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          cache: 'pip'
      
      - name: Install dependencies
        run: |
          pip install --upgrade pip
          pip install requests beautifulsoup4 python-dateutil pyyaml
      
      - name: Search for new papers
        id: search
        run: |
          python scripts/search_new_papers.py --days 7 --output new_papers_weekly.md
          echo "papers_found=$(grep -c '^##' new_papers_weekly.md || echo '0')" >> $GITHUB_OUTPUT
      
      - name: Update paper version
        run: |
          python scripts/update_paper_version.py
      
      - name: Check for changes
        id: changes
        run: |
          git diff --exit-code || echo "has_changes=true" >> $GITHUB_OUTPUT
          echo "has_changes=${has_changes:-false}" >> $GITHUB_OUTPUT
      
      - name: Commit and push updates
        if: steps.changes.outputs.has_changes == 'true'
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add -A
          git commit -m "ğŸ¤– Weekly paper update - $(date +'%Y-%m-%d')

- Updated paper version and last modified date
- Searched for new papers (last 7 days)
- See new_papers_weekly.md for findings

[skip ci]" || exit 0
          git push origin main
      
      - name: Deploy updated documentation
        if: steps.changes.outputs.has_changes == 'true'
        run: |
          pip install mkdocs-material
          mkdocs gh-deploy --force
      
      - name: Create update summary
        if: always()
        run: |
          cat > update_summary.md << EOF
          # Weekly Paper Update Summary
          
          **Date**: $(date -u +'%Y-%m-%d %H:%M:%S UTC')
          **Workflow**: Weekly Paper Update
          
          ## Results
          
          - **New Papers Found**: ${{ steps.search.outputs.papers_found }}
          - **Version Updated**: âœ…
          - **Documentation Deployed**: ${{ steps.changes.outputs.has_changes == 'true' && 'âœ…' || 'â­ï¸ No changes' }}
          
          ## New Papers Report
          
          $(cat new_papers_weekly.md 2>/dev/null || echo 'No new papers found this week.')
          
          ---
          
          *This update was automatically generated by GitHub Actions.*
          EOF
      
      - name: Upload artifacts
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: weekly-update-$(date +%Y%m%d)
          path: |
            new_papers_weekly.md
            update_summary.md
          retention-days: 30
      
      - name: Create or update issue
        if: steps.search.outputs.papers_found != '0'
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const date = new Date().toISOString().split('T')[0];
            
            let reportContent = '';
            if (fs.existsSync('new_papers_weekly.md')) {
              reportContent = fs.readFileSync('new_papers_weekly.md', 'utf8');
            }
            
            if (fs.existsSync('update_summary.md')) {
              reportContent = fs.readFileSync('update_summary.md', 'utf8');
            }
            
            // Find existing weekly update issue
            const issues = await github.rest.issues.listForRepo({
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['weekly-update', 'paper-review'],
              state: 'open',
              per_page: 1
            });
            
            const title = `ğŸ“š Weekly Paper Update - ${date}`;
            const body = `${reportContent}\n\n---\n\n*This issue was automatically created by the weekly paper update workflow.*`;
            
            if (issues.data.length > 0) {
              // Update existing issue
              await github.rest.issues.update({
                owner: context.repo.owner,
                repo: context.repo.repo,
                issue_number: issues.data[0].number,
                title: title,
                body: body
              });
              console.log(`Updated existing issue #${issues.data[0].number}`);
            } else {
              // Create new issue
              const issue = await github.rest.issues.create({
                owner: context.repo.owner,
                repo: context.repo.repo,
                title: title,
                body: body,
                labels: ['weekly-update', 'paper-review', 'automated']
              });
              console.log(`Created new issue #${issue.data.number}`);
            }
```

---

## âœ… What's Already Working

### Version Tracking âœ…

- **Paper Index**: Shows version `2025.11.15` and last updated date
- **All Paper Pages**: Include version metadata
- **LaTeX Paper**: Version commands added

### Update Script âœ…

The `update_paper_version.py` script:
- âœ… Updates LaTeX paper date and version
- âœ… Updates all HTML paper pages
- âœ… Adds version info to frontmatter
- âœ… Updates "Last Updated" text

**Test it locally**:
```bash
python scripts/update_paper_version.py
```

---

## ğŸ”„ How It Works

### Weekly Schedule

Every **Monday at 9:00 AM UTC**, the workflow will:

1. **Search for New Papers**
   - Runs `search_new_papers.py`
   - Searches last 7 days
   - Outputs to `new_papers_weekly.md`

2. **Update Version**
   - Runs `update_paper_version.py`
   - Updates LaTeX paper date
   - Updates all HTML paper pages
   - Version format: `YYYY.MM.DD`

3. **Commit Changes**
   - If changes found, commits automatically
   - Commit message includes date
   - Pushes to `main` branch

4. **Deploy Documentation**
   - Runs `mkdocs gh-deploy`
   - Updates GitHub Pages site
   - Paper version visible immediately

5. **Create Issue**
   - If new papers found, creates GitHub issue
   - Issue includes paper findings
   - Labeled: `weekly-update`, `paper-review`

---

## ğŸ“Š Version Display

### In Paper Index

```markdown
!!! success "Version Information"
    **Version**: 2025.11.15  
    **Last Updated**: November 15, 2025
    **Status**: Automatically updated weekly  
    **Update Schedule**: Every Monday at 9:00 AM UTC
```

### In Each Paper Page

Version info is in the frontmatter:
```yaml
---
version: 2025.11.15
last_updated: 2025-11-15
last_updated_display: November 15, 2025
---
```

---

## ğŸ§ª Testing

### Test Version Update Locally

```bash
cd /home/majid/Downloads/Agentic-AI-Systems
python scripts/update_paper_version.py
```

Expected output:
```
ğŸ“ Updating paper version to 2025.11.15
ğŸ“… Date: November 15, 2025
âœ… Updated LaTeX version to 2025.11.15
âœ… Updated 9 HTML paper pages
```

### Test Workflow Manually

After creating the workflow file:

1. Go to GitHub Actions tab
2. Find "Weekly Paper Update" workflow
3. Click "Run workflow" â†’ "Run workflow"
4. Watch it execute

---

## ğŸ“ Next Steps

1. âœ… **Create workflow file** (see instructions above)
2. âœ… **Verify workflow runs** (check Actions tab)
3. âœ… **Monitor first weekly run** (next Monday)
4. âœ… **Review issues** (check for new papers)

---

## ğŸ¯ Expected Behavior

### Every Monday Morning

- âœ… Version number increments (e.g., `2025.11.15` â†’ `2025.11.22`)
- âœ… Last updated date changes
- âœ… New papers search runs
- âœ… GitHub issue created (if papers found)
- âœ… Documentation auto-deployed

### Version Format

- **Format**: `YYYY.MM.DD`
- **Example**: `2025.11.15` (November 15, 2025)
- **Updates**: Every Monday automatically

---

## ğŸ” Monitoring

### Check Workflow Status

1. Go to: https://github.com/memari-majid/Agentic-AI-Systems/actions
2. Look for "Weekly Paper Update" workflow
3. Click to see run history

### Check Version

1. Visit: https://memari-majid.github.io/Agentic-AI-Systems/paper/
2. See version in "Version Information" box
3. Check "Last Updated" date

### Check Issues

1. Go to: https://github.com/memari-majid/Agentic-AI-Systems/issues
2. Filter by label: `weekly-update`
3. See weekly paper findings

---

## âœ… Summary

**What's Done**:
- âœ… Version update script created
- âœ… Version tracking added to all pages
- âœ… Workflow file created (needs manual push)
- âœ… Integration with paper search script

**What You Need to Do**:
1. Create `.github/workflows/weekly-paper-update.yml` manually
2. Copy workflow content from above
3. Commit and push

**Result**:
- Paper automatically updates every Monday
- Version number increments weekly
- New papers automatically discovered
- Issues created with findings

---

**Status**: Ready to activate! Just create the workflow file. ğŸš€

